<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Feature Policy: unsized-media example</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans">
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="stylesheet" href="/styles/header.css">
  <link rel="stylesheet" href="/demos/unsized-media.css">
</head>
<body>

<details class="details">
  <!-- filled dynamically -->
</details>

<!--
When no dimensions are specified (either via style attr, width/height attr, or class):
1. unsized-media on: image/video will have an intrinsic size. Causes re-layout.
2. unsized-media off: image/video will have a default size of 300x150. No re-layout.

When one dimension is specified (via a class, width="200", style="width:200px").
1. unsized-media off: image/video will be one of the specified dimension
   and the intrinsic ratio. Causes a re-layout.
2. unsized-media on: image/video will be one of the default dimensions (300x150)
   and the specified dimension. No re-layout.

When both dimension are specified, unsized-media has no effect. The image will
be sized to the specified dimensions and no re-layout will occur.
-->
<img src="https://picsum.photos/1200/600/?random" width="100%">

<p>Lorem ipsum dolor sit amet, pretium urna faucibus etiam enim sollicitudin,
sagittis phasellus nec suspendisse aenean. Orci nec nam ipsum lobortis ipsum,
at nunc, semper in suscipit sem et, mauris amet amet accumsan risus quis, urna
quam. Lacus mi elit lectus tortor nec enim, sed ornare est praesent est id ut,
mi at. Vestibulum varius, diam posuere tristique est adipiscing, proin quam orci,
nunc tincidunt purus accumsan erat, nec amet magna donec. Consectetuer vivamus
pharetra nulla vivamus, quam sit conubia ligula turpis, condimentum purus mauris
felis scelerisque id. Tincidunt nullam tristique mattis sit vivamus viverra,
velit orci convallis, suspendisse urna sed. </p>

<img src="https://picsum.photos/300/300/?random" class="round right sized" style="margin-left:16px;">

<img src="https://picsum.photos/400/500/?random" class="left" style="margin-right:16px;">

<p>Lorem ipsum dolor sit amet, pretium urna faucibus etiam enim sollicitudin,
sagittis phasellus nec suspendisse aenean. Orci nec nam ipsum lobortis ipsum,
at nunc, semper in suscipit sem et, mauris amet amet accumsan risus quis, urna
quam. Lacus mi elit lectus tortor nec enim, sed ornare est praesent est id ut,
mi at. Vestibulum varius, diam posuere tristique est adipiscing, proin quam orci,
nunc tincidunt purus accumsan erat, nec amet magna donec. Consectetuer vivamus
pharetra nulla vivamus, quam sit conubia ligula turpis, condimentum purus mauris
felis scelerisque id. Tincidunt nullam tristique mattis sit vivamus viverra,
velit orci convallis, suspendisse urna sed.</p>

<p>Lorem ipsum dolor sit amet, pretium urna faucibus etiam enim sollicitudin,
sagittis phasellus nec suspendisse aenean. Orci nec nam ipsum lobortis ipsum,
at nunc, semper in suscipit sem et, mauris amet amet accumsan risus quis, urna
quam. Lacus mi elit lectus tortor nec enim, sed ornare est praesent est id ut,
mi at. Vestibulum varius, diam posuere tristique est adipiscing, proin quam orci,
nunc tincidunt purus accumsan erat, nec amet magna donec. Consectetuer vivamus
pharetra nulla vivamus, quam sit conubia ligula turpis, condimentum purus mauris
felis scelerisque id. Tincidunt nullam tristique mattis sit vivamus viverra,
velit orci convallis, suspendisse urna sed.</p>

<!-- No dimensions -->
<div class="center">
  <video src="https://clips.vorwaerts-gmbh.de/big_buck_bunny.webm" autoplay controls></video>
</div>

<p>Lorem ipsum dolor sit amet, pretium urna faucibus etiam enim sollicitudin,
sagittis phasellus nec suspendisse aenean. Orci nec nam ipsum lobortis ipsum,
at nunc, semper in suscipit sem et, mauris amet amet accumsan risus quis, urna
quam. Lacus mi elit lectus tortor nec enim, sed ornare est praesent est id ut,
mi at. Vestibulum varius, diam posuere tristique est adipiscing, proin quam orci,
nunc tincidunt purus accumsan erat, nec amet magna donec. Consectetuer vivamus
pharetra nulla vivamus, quam sit conubia ligula turpis, condimentum purus mauris
felis scelerisque id. Tincidunt nullam tristique mattis sit vivamus viverra,
velit orci convallis, suspendisse urna sed.</p>

<!--
When both dimension are specified, unsized-media has no effect. The image will
be sized to the specified dimensions and no re-layout will occur.
-->
<img src="https://picsum.photos/1200/600/?random"  width="100%" height="300">

<p>Lorem ipsum dolor sit amet, pretium urna faucibus etiam enim sollicitudin,
    sagittis phasellus nec suspendisse aenean. Orci nec nam ipsum lobortis ipsum,
    at nunc, semper in suscipit sem et, mauris amet amet accumsan risus quis, urna
    quam. Lacus mi elit lectus tortor nec enim, sed ornare est praesent est id ut,
    mi at. Vestibulum varius, diam posuere tristique est adipiscing, proin quam orci,
    nunc tincidunt purus accumsan erat, nec amet magna donec. Consectetuer vivamus
    pharetra nulla vivamus, quam sit conubia ligula turpis, condimentum purus mauris
    felis scelerisque id. Tincidunt nullam tristique mattis sit vivamus viverra,
    velit orci convallis, suspendisse urna sed.</p>
</body>
<script type="module">
import * as shared from '/js/shared.js';

if (!shared.inFrame()) {
  shared.showDetails();
  shared.getPolicy(shared.currentPolicyId).then(policy => {
    shared.updateDetailsHeader(policy);
  });
}

// https://chromium.googlesource.com/chromium/src.git/+/832440db5c586d1bdeedfd01489e43d09de36aa9
// console.log('Allowed features:', document.policy.allowedFeatures());
//document.policy.allowsFeature('unsized-images')
// document.policy.allowsFeature('geolocation', 'https://google-developers.appspot.com/')
// console.log('who can use geolocation', document.policy.getAllowlistForFeature('geolocation'));
</script>
</html>